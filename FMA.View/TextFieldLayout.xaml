<UserControl x:Class="FMA.View.TextFieldLayout"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:properties="clr-namespace:FMA.View.Properties"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
             xmlns:models="clr-namespace:FMA.View.Models"
             xmlns:view="clr-namespace:FMA.View"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <UserControl.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="Resources.xaml" />
            </ResourceDictionary.MergedDictionaries>

            <DataTemplate DataType="{x:Type models:MaterialFieldModel}">
                <view:TextFieldProperties />
            </DataTemplate>
            <DataTemplate DataType="{x:Type models:LogoModel}">
                <view:LogoProperties />
            </DataTemplate>

        </ResourceDictionary>
    </UserControl.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
           
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition />
        </Grid.ColumnDefinitions>
        <StackPanel Orientation="Horizontal" Grid.ColumnSpan="2">
            <TextBlock Margin="4,0"
                               FontWeight="Bold"
                               Text="{x:Static properties:Resources.Elements}" />
           
        </StackPanel>

        <Grid Grid.Row="1" Grid.Column="0"  >
            <Grid.RowDefinitions>
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>
            <ListBox BorderThickness="1,1,1,0" BorderBrush="CadetBlue" x:Name="ListBox"  Margin="8,8,8,0" ItemsSource="{Binding SelectedMaterialProvider.MaterialChilds}" SelectedItem="{Binding SelectedMaterialProvider.SelectedMaterialChild}">
            <ListBox.ItemTemplate>
                <DataTemplate DataType="models:MaterialFieldModel">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="{Binding FieldName}" Margin="4" ToolTip="{Binding DisplayValue}"></TextBlock>
                    </StackPanel>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
        <Border Margin="8,0,8,8" Background="White" Grid.Row="1"  BorderThickness="1,0,1,1" BorderBrush="CadetBlue">
        <StackPanel Orientation="Horizontal">
        
        <Button   Style="{StaticResource ImageButton}" ToolTip="{x:Static properties:Resources.AddTextField}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Click">
                        <ei:CallMethodAction MethodName="AddField" TargetObject="{Binding}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Path 
                              Width="16"
                              Height="16"
                              Data="M2.880352,35.504997L25.563028,35.504997 25.461889,35.77055C24.680614,37.90033 24.254,40.199783 24.254,42.596951 24.254,44.994007 24.680614,47.293259 25.461889,49.422794L25.562908,49.688 2.880352,49.688C1.290522,49.688,3.8410201E-07,48.396416,0,46.807915L0,38.38258C3.8410201E-07,36.794079,1.290522,35.504997,2.880352,35.504997z M41.691601,32.867001L41.691601,40.591217 33.968002,40.591217 33.968002,45.48729 41.691601,45.48729 41.691601,53.211002 46.587406,53.211002 46.587406,45.48729 54.311005,45.48729 54.311005,40.591217 46.587406,40.591217 46.587406,32.867001z M44.126499,27.625C52.394669,27.625 59.098,34.325611 59.098,42.596501 59.098,50.859093 52.394669,57.565003 44.126499,57.565003 35.858036,57.565003 29.156,50.859093 29.156,42.596501 29.156,34.325611 35.858036,27.625 44.126499,27.625z M2.880352,17.594002L43.182121,17.594002C44.771912,17.594002,46.061001,18.882946,46.061001,20.471779L46.061001,22.816408 45.653107,22.780068C45.149128,22.741593 44.639954,22.722 44.126297,22.722 37.278214,22.722 31.227619,26.205 27.652683,31.492657L27.472803,31.773003 2.880352,31.773003C1.290522,31.773001,3.8410201E-07,30.484057,8.8062882E-07,28.893322L8.8062882E-07,20.471779C3.8410201E-07,18.882946,1.290522,17.594002,2.880352,17.594002z M8.4794798,3.8200022C6.678607,3.8200022 5.2110004,5.2864023 5.2110014,7.0887662 5.2110004,8.8935586 6.678607,10.357 8.4794798,10.357 10.281624,10.357 11.748,8.8935586 11.748,7.0887662 11.748,5.2864023 10.281624,3.8200022 8.4794798,3.8200022z M2.880352,0L43.182117,0C44.771912,5.590332E-07,46.061001,1.2890898,46.061001,2.8779911L46.061001,11.302441C46.061001,12.893875,44.771912,14.18,43.182117,14.18L2.880352,14.18C1.290522,14.18,3.8410201E-07,12.893875,0,11.302441L0,2.8779911C3.8410201E-07,1.2890898,1.290522,5.590332E-07,2.880352,0z"
                              Fill="{Binding Path=Background,
                                             RelativeSource={RelativeSource AncestorType={x:Type Button}}}"
                              Stretch="Uniform" />

            </Button>
                    <Button Style="{StaticResource ImageButton}" ToolTip="{x:Static properties:Resources.AddLogo}">
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Click">
                                <ei:CallMethodAction MethodName="AddLogo" TargetObject="{Binding}" />
                            </i:EventTrigger>
                        </i:Interaction.Triggers>

                        <Path
                             Fill="{Binding Path=Background,
                                             RelativeSource={RelativeSource AncestorType={x:Type Button}}}"
                            Data="M6.2083216,5.2470003L7.8229489,5.2470003 7.8229489,8.2786062 10.853,8.2786062 10.853,9.8934455 7.8229489,9.8934455 7.8229489,12.925 6.2083216,12.925 6.2083216,9.8934455 3.1770001,9.8934455 3.1770001,8.2786062 6.2083216,8.2786062z M14.851834,2.6670003L18.744929,3.6984439C20.065195,4.0493788,20.851673,5.402866,20.505283,6.7251819L17.125174,19.490082C16.778783,20.811638,15.419519,21.600771,14.099255,21.251156L6.1215587,19.139667C5.9757426,19.099466,5.8338065,19.042763,5.701,18.977761L11.552423,18.977761C11.65662,18.977761,11.756818,18.95816,11.858415,18.949759L14.521043,19.655489C14.961131,19.772094,15.411719,19.505583,15.534116,19.066265L18.909025,6.3013339C19.020923,5.8631755,18.76053,5.4106163,18.320441,5.2947014L14.851834,4.3754724z M2.4739501,1.6524129C2.0234401,1.6524129,1.6523401,2.0227668,1.6523401,2.4733493L1.6523401,15.677441C1.6523401,16.133234,2.0234401,16.503727,2.4739501,16.503727L11.5521,16.503727C12.0078,16.503727,12.377601,16.133234,12.377601,15.677441L12.377601,2.4733493C12.377601,2.0227668,12.0078,1.6524129,11.5521,1.6524129z M2.4739501,0L11.5521,0C12.9167,0,14.030001,1.1081319,14.030001,2.4733493L14.030001,15.677441C14.030001,17.042819,12.9167,18.156001,11.5521,18.156001L2.4739501,18.156001C1.1080601,18.156001,0,17.042819,0,15.677441L0,2.4733493C0,1.1081319,1.1080601,0,2.4739501,0z" />
                    </Button>
                    <Button 
                                        Style="{StaticResource ImageButtonCritical}"
                                        ToolTip="{x:Static properties:Resources.DeleteTextField}">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="Click">
                        <ei:CallMethodAction MethodName="DeleteSelectedChild" TargetObject="{Binding}" />
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <Path x:Name="Path"
                                          Width="16"
                                          Height="16"
                                          Data="M469.314,171.95L469.314,675.277 575.603,675.277 575.603,171.95z M203.347,171.95L203.347,675.277 309.686,675.277 309.686,171.95z M211.071,0L567.926,0 567.926,83.6537 779,83.6537 779,171.95 714.002,171.95 714.002,779 64.9982,779 64.9982,171.95 0,171.95 0,83.6537 211.071,83.6537z"
                                          Fill="{Binding Path=Background,
                                                         RelativeSource={RelativeSource AncestorType={x:Type Button}}}"
                                          Stretch="Uniform" />

            </Button>
        </StackPanel>
        </Border>
        </Grid>

        <ContentPresenter  Grid.Column="1"
                           Grid.Row="1"
                              Margin="8"
                              Content="{Binding SelectedMaterialProvider.SelectedMaterialChild}" />
        

  
    </Grid>
</UserControl>
